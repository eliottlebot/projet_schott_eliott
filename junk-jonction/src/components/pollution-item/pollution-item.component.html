<div class="relative rounded-xl p-5 shadow-md border border-slate-300 bg-white transition">
  <div class="flex justify-between items-center border-b-2 mb-2 pb-1">
    <div>
      <h3 class="text-lg font-semibold">{{ pollution.titre }}</h3>
      @if(pollution.user){
      <p class="text-gray-600">Créée par {{ pollution.user.nom }}</p>
      } @else {
      <p class="text-gray-600">Créée par Anonyme</p>
      }
    </div>
    <button (click)="toggleFavorite(pollution.id)">
      @if(isFavorite(pollution.id)){
      <img
        src="favorite_selected.svg"
        width="30px"
        height="30px"
        class="cursor-pointer hover:scale-110 transition-all"
      />
      } @else {
      <img
        src="favorite.svg"
        width="30px"
        height="30px"
        class="cursor-pointer hover:scale-110 transition-all"
      />
      }
    </button>
  </div>

  <p class="mb-1">
    <strong>Localisation :</strong> {{ pollution.latitude }} : {{ pollution.longitude }}
  </p>

  <p class="mb-1"><strong>Description :</strong> {{ pollution.description }}</p>

  <p class="mb-3"><strong>Date :</strong> {{ pollution.dateObservation | date : 'medium' }}</p>

  <div class="flex justify-between">
    <button
      (click)="onDelete()"
      class="flex items-center px-3 py-1 bg-red-100 rounded hover:bg-red-200 transition cursor-pointer"
    >
      <lucide-icon [img]="Trash" class="w-6 h-6 text-red-600"></lucide-icon>
    </button>

    <button
      (click)="onShowDetails()"
      class="flex items-center gap-1 px-3 py-1 bg-green-200 rounded hover:bg-green-300 transition cursor-pointer"
    >
      <lucide-icon [img]="Info" class="w-5 h-5"></lucide-icon>
      <span class="text-green-800 font-medium">Voir les détails</span>
    </button>
  </div>
</div>
